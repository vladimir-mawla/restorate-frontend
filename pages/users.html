<!DOCTYPE html>
<html>

<head>
  <title></title>
  <link rel="stylesheet" href="../styles/styles.css">
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body>
  <div class="landing">
    <!-- Start Navigation Bar -->
    <nav class="top-nav">
      <img src="#" alt="" />
      <ul class="links">
        <li><a href="#">Profile</a></li>

      </ul>
    </nav>
    <div class="contents-wrapper">
      <div class="name">
        <h1>Restorate</h1>
      </div>
      <div class="description">
        <h2>Find you area's restaurants' ratings</h2>
      </div>
      <div class="search-bar">
        <form class="search-form">
          <input type="search" class="search-form-input" placeholder="Location">
          <input type="search" class="search-form-input" placeholder="Search restaurants">
          <img src="https://icon-library.com/images/search-icon-html/search-icon-html-6.jpg" href="#" #
            id="search-img"></img>
        </form>
      </div>
    </div>
  </div>
  <div class="cards" id="cards">

  </div>
  <script>
    cards = document.getElementById("cards")
    console.log("hello")


    axios({
      method: 'get',
      url: 'http://192.168.64.2/restoratebe/get_res.php',

    })

      .then(function (response) {

        for (var i = 0; i < response.data.length; i++) {
          var get_img = response.data[i]["img"]
          var get_name = response.data[i]["name"]
          var get_location = response.data[i]["location"]


          const card = document.createElement("div");
          card.classList.add("card")
          card.append(get_img, "\n", get_name, "\n", get_location)

          function Base64ToImage(get_img, callback) {
            var img = new Image();
            img.onload = function () {
              callback(img);
            };
            img.src = get_img;
          }
          card.addEventListener("click", function () {
            localStorage.setItem("img", this.id);
            location.href = "./res.html";
          });
          document.getElementById('cards').append(card)
        }
      })


  </script>
</body>

</html>